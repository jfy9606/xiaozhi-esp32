# 面包板紧凑型WiFi+LCD开发板

这是一个基于ESP32的紧凑型开发板，具有WiFi功能和LCD显示屏，专为面包板使用设计。

## 特性

- 基于ESP32-WROOM-32模块
- 支持WiFi连接
- 内置LCD显示屏
- 支持多种摄像头模块(OV2640/OV3660/OV5640)
- 引出所有GPIO引脚到面包板友好的接口
- 板载LED指示灯
- USB供电和编程接口

## 摄像头支持

开发板支持多种摄像头模块，视觉系统自动检测并适配以下摄像头型号：

- OV2640
- OV3660
- OV5640

摄像头引脚配置已在开发板配置中预设，无需额外配置。

## 视觉功能

开发板支持以下视觉功能：

1. **视频流**：通过Web界面实时查看摄像头画面
2. **拍照**：捕获高分辨率图像
3. **AI识别**：支持物体识别、人脸检测等AI功能
4. **摄像头参数调整**：可调整分辨率、亮度、对比度等参数

## LCD显示功能

开发板支持多种LCD屏幕：

- ST7789系列
- ILI9341系列
- GC9A01系列

显示屏可展示AI对话内容、系统状态和图像预览。

## 使用方法

1. 将摄像头模块连接到开发板的摄像头接口
2. 上电启动开发板
3. 连接到开发板创建的WiFi热点或将开发板连接到现有WiFi网络
4. 在浏览器中访问开发板IP地址
5. 点击"视觉"选项卡使用摄像头功能

## 按键功能

- Boot按键：短按进入/退出聊天模式，长按重置WiFi配置
- 触摸按键（如果有）：短按拍照，按住开始语音识别

## 注意事项

- 摄像头和WiFi同时使用时可能会影响WiFi性能，建议使用较低分辨率
- 视觉功能和AI识别可以并行工作，互不干扰
- 部分引脚在摄像头和音频功能间共享，系统会自动管理资源冲突

## 硬件连接

摄像头引脚连接方式：

| 功能      | GPIO 引脚 | 说明                    |
|----------|-----------|------------------------|
| PWDN     | -1        | 掉电引脚（不使用）        |
| RESET    | -1        | 复位引脚（不使用）        |
| XCLK     | 15        | 摄像头外部时钟           |
| SIOD     | 4         | I2C 数据引脚            |
| SIOC     | 5         | I2C 时钟引脚            |
| D0 ~ D7  | 11,9,8,10,12,18,17,16 | 数据引脚  |
| VSYNC    | 6         | 垂直同步               |
| HREF     | 7         | 水平同步               |
| PCLK     | 13        | 像素时钟               |
| 闪光灯    | 45        | LED 闪光灯（可选）      |

## API 控制

通过 MCP 协议可以控制摄像头参数：

- `self.camera.take_photo`: 拍照
- `self.camera.flash`: 控制闪光灯
- `self.camera.set_config`: 设置摄像头参数（亮度、对比度等）

## 代码示例

```cpp
// 获取摄像头实例
Camera* camera = board->GetCamera();
if (camera) {
    // 拍照
    camera->Capture();
    
    // 设置参数
    camera->SetBrightness(1);  // 范围 -2 到 2
    camera->SetContrast(1);    // 范围 -2 到 2
    camera->SetSaturation(0);  // 范围 -2 到 2
    
    // 镜像翻转
    camera->SetHMirror(true);  // 水平镜像
    camera->SetVFlip(true);    // 垂直翻转
}
``` 